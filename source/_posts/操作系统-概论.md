---
title: 操作系统-概论
categories:
  - 操作系统
  - null
  - null
tags:
  - 概论
  - 
copyright: true
date: 2022-08-29 13:34:01
permalink:
description:
image:
---

<img src="https://" alt="" style="width:100%" />  

**前言**

操作系统概论/操作系统结构

<<<<<<< HEAD

=======
#操作系统
>>>>>>> 710f4efc6c546c0f3d7e8ec9d05d24339b6239ba

<!-- more -->

# 操作系统设计目标

操作系统是管理计算机硬件的程序， 为应用程序提供基础， 并且充当计算机硬件和计算机用户的中介。

运行用户程序 —— 核心目标

系统面向用户 —— 方便解决用户问题，使计算机方便使用

面向系统 —— 高效方式使用计算机硬件

资源分配器 —— 管理资源、分配资源

控制程序 —— 管理用户程序的运行

CPU管理 内存管理 文件管理 设备管理

# 组成

## 运行


<<<<<<< HEAD

=======
>>>>>>> 710f4efc6c546c0f3d7e8ec9d05d24339b6239ba
计算机开始运行的时候，通常需要运行一个初始化程序/引导程序(bootstrap program)，通常位于 ROM 或 EEPROM 中，称为计算机硬件中的固件。

它负责初始化系统中的所有部分，包括：CPU 寄存器， 设备控制器， 内存内容。它必须知道如果装入系统并开始执行系统，定位操作系统内核并把他装入内存，然后操作系统就开始初始化。


**中断**

现在的操作系统都是以中断为驱动的。

事件的发生通常通过硬件或软件中断(interrupt)来表示，硬件可以随时通过系统总线向 CPU 发出信号，触发中断，而软件通过执行特别操作如系统调用(system call)/监视器调用(monitor call)

中断是计算机结构的重要组成部分。中断必须将控制转移到合适的中断处理程序，简单的方法就是调用一个通用的子程序检查中断信息，然后调用对应的中断处理程序。

## 批处理系统

一次运行称为作业

一批无需人机交互的作业批量运行称为批处理

在批处理系统中，用户所提交的作业都先存放在外存上并排成一个队列，称为“后备队列”。然后，由作业调度程序按一定的算法从后备队列中选择若干个作业调入内存，使它们共享CPU和系统中的各种资源。

简单批处理系统-系统对作业的处理是成批进行的，但内存中始终保持一道作业。

多道程序系统-在内存中同时存放多个作业，一个时刻只有一个作业运行，使得CPU总有一个作业可执行，这些作业共享CPU和外部设备等资源。

目的：使得CPU和设备在所有时间内尽可能忙碌，从而提高CPU和设备的利用率，充分发挥计算机系统各个部件的并行性

**并行和并发**
并行： 两个或多个作业在同一时刻运行
并发： 两个或多个作业在同一时间间隔内依次运行

## 分时系统

时间片： 一段CPU时间按固定单位分割，每个分割的时间段为一个时间片

在一段把时间内，每个作业依次轮流运行一个时间片

·多路性：系统允许将多台终端同时连接到一台主机上，并按分时原则为每个终端分配系统资源，提高资源利用率，降低使用费用。

·独立性：各终端之间相互独立，互不干扰，每个用户都感觉像一人独占主机一样。

·及时性：用户的请求能在很短的时间内就得到响应。

·交互性：用户可通过终端与系统进行人机对话，例如请求多方面的服务。

*平均响应速度*
https://www.programminghunter.com/article/79041754246/
进程响应时间：
单个进程从用户提交到系统首次响应所用的时间

## 分布式系统

# 计算机系统体系结构

1. 单处理器系统

只有一个通用 CPU
还包含其他特定目的微处理器， 用来克服主 CPU 超载问题


2. 多处理器系统(并行系统 Parallel system, 紧耦合系统 tightly coupled system)

拥有多个紧密通信的 CPU，共享计算机总线，时钟，内存和外设

优点：
**增加吞吐量**
**规模经济**
**增加可靠性**
计算机系统不断增加的可靠性是很关键的，这种能提供与正常工作的硬件成正比的服务的能力称为适度退化(graceful degradation)。超出适度退化的能力被称为容错(fault tolerant)

多处理器系统主要分为

非对称多处理(asymmetric multiprocessing) ： 主从处理器

对称多处理(symmetric multiprocessing， SMP) 现代多数操作系统支持

概念： 刀片服务器(blade server) 每个刀片处理器独立启动并运行各自的系统

3. 集群系统：

**由两个或多个独立的系统耦合起来的**

松耦合系统

通过局域网连接或更快的内部连接(InfiniBand)
用途： 提供高可用性(high availability)服务

分类：对称与非对称

非对称集群(asymmetric clustering)中， 一台机器处于热备份状态(hot standby mode)，另一台运行程序。

对称集群(symmetric clustering)，两个或多个主机都运行程序并互相监视。

还有并行集群和 WAN 集群。

并行集群中通常需要分布式锁管理器(distributed lock manager， DLM)

## 双重模式操作

**区分操作系统代码和用户自定义代码的执行**，通常提供硬件支持以允许区分各种执行模式(在计算机硬件增加一个模式位(mode bit)来区分)

用户模式(user mode)
内核模式：监督程序模式(monitor mode)[也称为管理模式(supervisor mode)]、系统模式(system mode)或特权模式(privileged mode)
只要操作系统获得了对计算机的控制，就处于内核模式。

某些特权指令(privileged instruction)只能在内核模式执行。

特权指令：可以引起损害的机器指令，如切换到用户模式、I/O 的控制、定时器的管理和中断管理

系统调用通常采用陷阱到中断向量中的一个指定位置的方式。

**双重模式为操作系统提供了保护手段，以防止操作系统和用户程序受到错误用户程序的影响。**


**定时器** 设置为在指定周期后中断计算机



# 进程管理
进程：处于执行中的程序

需要一定的资源

程序本身不是进程，程序时被动的实体。

单线程进程具有一个程序计数器来明确下一个执行的指令，这样程序的执行必须时连续的。

进程时系统工作的单元。系统由多个进程组成，其中一些事操作系统进程，其他是用户进程。

操作系统需要负责：

创建和删除用户进程和系统进程
挂起和重启进程
提供进程同步机制
提供进程通讯机制
提供死锁处理机制

# 内存管理
内存是现代计算机操作系统的中心，是 CPU 和 I/O 设备共同快速访问的数据仓库，通常也是 CPU 可以直接寻址和访问的唯一大容量存储器。 

操作系统负责下列有关的内存管理的活动：

记录内存的哪部分正在被使用和被谁使用
当有内存空间是，决定哪些进程可以装入内存
根据需要分配和释放内存空间

# 存储管理
## 文件系统管理
操作系统负责：
创建和删除文件
创建和删除目录来组织文件
提供操作文件和目录的原语
将文件映射到二级存储上
在稳定存储介质上备份文件
## 大容量存储器管理
操作系统负责：
空闲空间管理
存储空间分配
硬盘调度


<<<<<<< HEAD
=======
# 操作系统结构

## 简单结构

早期UNIX


## 层次结构

ios/THE

操作系统划分为若干层

低层构建高层

底层(0层)为硬件

最高层为用户层

每层只使用低层次的功能和服务

<a href="https://imgse.com/i/x9tsgK"><img src="https://s1.ax1x.com/2022/09/19/x9tsgK.png" alt="x9tsgK.png" border="0" /></a>


## 微内核结构

Mach/ Windows NT、2000、2003

从核内移出尽可能多的功能到用户空间

## 模块结构

使用面向对象方法
每个核心部件分开为多个模块
**每个与其他组件的会话称为接口**
每个组件在需要的时候加载到内核

## 混合结构

Mac OS X / Android

采用多种结构

# 虚拟机

## 高级语言虚拟机

JVM

提供代码运行的容器，模拟代码执行

## 工作站虚拟机

安装在硬件上的操作系统——宿主操作系统

安装在操作系统上的操作系统——客户操作系统

## 服务器虚拟机

将服务器物理资源抽象成逻辑资源，一台服务器变成几台相互隔离的服务器虚拟机

<a href="https://imgse.com/i/x9tbDg"><img src="https://s1.ax1x.com/2022/09/19/x9tbDg.png" alt="x9tbDg.png" border="0" /></a>


# 设计目标


>>>>>>> 710f4efc6c546c0f3d7e8ec9d05d24339b6239ba

<hr />
版权信息