---
title: 操作系统-概论
categories:
  - 操作系统
  - null
  - null
tags:
  - 进程
  - 操作系统
copyright: true
date: 2022-09-19 13:34:01
permalink:
description:
image:
---

<img src="https://" alt="" style="width:100%" />  

**前言**

操作系统进程



<!-- more -->

# 进程概念
- 操作系统执行CPU调度和资源分配的单位
- 一个程序在**一个**数据集上的**一次**执行


## 内存中的进程
1. PC 程序计数器
2. Stack 堆栈
3. Data 数据
4. Heap 堆

## 进程和程序
- 进程是程序的一个实例 进程是程序的一次执行 程序是进程的代码部分
- 进程在内存 程序在外存
- 一个程序可对应一个或多个进程 一个进程可对应一个或多个程序
- 进程是动态的，程序是静态的
- 进程是有生命周期的
- 可以在单个CPU上并法运行，取决于核的个数

## 进程状态与转换
1.  运行状态：进程正在处理器上运行。在单处理器的环境下，每一时刻最多只有一个进程处于运行状态。工作结束后进程变为就绪态

2.  就绪状态：进程已处于准备运行的状态，即进程获得了除CPU之外的一切所需资源，一旦得到处理器即可运行。

3.  阻塞状态：又称为等待状态：进程正在等待某一事件而暂停运行，如**等待某资源为可用**（不包括处理器），或**等待输入输出的完成**。及时处理器空闲，该进程也不能运行。

4.  创建状态：进程正在被创建，尚未转到就绪状态。创建进程通常需要多个步骤：首先申请一个空白的PCB，并向PCB中填写一些控制和管理进程的信息；然后由系统为该进程分配运行时所必须的资源；最后把该进程转入到就绪状态。

5.  结束状态：进程正在从系统中消失，这可能是进程正常结束或其他原因中断退出运行。当进程需要结束运行时，系统首先必须置该进程为结束状态，然后再进一步处理资源释放和回收工作。




![[Pasted image 20220919140423.png]]

## 进程控制块 PCB

- 进程状态信息
- CPU调度信息
- I/O状态信息
- 内存管理信息

标识进程的唯一标志

# 进程操作

## 进程创建
父进程创建子进程
- 共享所有资源
- 子进程共享父进程资源子集
- 父进程和子进程无资源共享

**主要任务： 建立PCB表**

**操作系统创建一个新进程的过程如下（创建原语）：**

1） 为新进程分配一个为我一个进程标示号，并申请一个空白的PCB。

2） 为进程分配资源，为新进程的程序和数据，以及用户占分配必要的空间。

3） 初始化PCB，主要包括初始化标识信息、初始化处理器状态信息和初始化处理器控制信息，以及设置进程的空闲及。

4） 如果进程就绪队列能够接纳新进程，就将新进程插入到就绪队列，等待被调度运行。

## 进程终止
- 进程执行最后一项退出
- 父进程中止子进程执行
- 父进程等待子进程结束

**操作系统终止进程的过程如下：（撤消原语）**

1） 根据被终止进程的标示符，检索PCB，从中读出该进程的状态。

2） 若被终止进程处于执行状态，立即终止该进程的执行，将处理器资源分配给其他进程。

3） 若该进程还有子进程，则应将其所有子进程终止。

4） 将该进程所拥有的资源、或归还给父进程或归还给操作系统。

5） 将该PCB从所在队列（链表）中删除。

## 进程阻塞

正在执行的进程，犹豫期待的某些时间为发生，如请求系统资源失败、等待某种操作的完成、新数据尚未到达或无心工作可做等，则由系统自动执行阻塞原语，使自己由运行状态变为阻塞状态。

- 父进程阻塞直到子进程完成任务


# 进程通信

用于进程通信的机制，同步其间活动

## 共享内存

一块内存在多个进程间共享

## 消息传递
1. 直接通信

2. 间接通信
**通过信箱发送接受消息**
一个连接最多同两个进程相关
一个时刻有一个进程执行接受操作


![[Pasted image 20220920112225.png]]

# 进程调度
- 一次只有一个进程可在一个处理器上运行
- 许多进程可以处于ready状态

## 队列

1. 作业队列 - 系统中所有进程集合
2. 就绪队列 - 主内存中**就绪并等待**执行的所有进程
3. 设备队列 - 等待某一I/O设备的进程队列


## 调度程序
- 长程调度/作业调度 - 选择可以进入就绪队列的进程
- 短程调度/CPU调度 - 选择可被下一个执行并分配CPU的进程

![[Pasted image 20220919143300.png]]






<hr />
版权信息