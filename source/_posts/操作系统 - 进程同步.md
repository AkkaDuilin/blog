---
title: 操作系统 - 进程同步
date: 2022-10-17 13:32:21   
permalink:         
categories:  
    - 操作系统
    -
    -       
tags: 
    - 操作系统
    - 进程同步    
description:        
image:             
copyright: true     
---

<img src="https://" alt="" style="width:100%" />  

**前言**

操作系统进程同步

多道程序环境下，进程是并发执行的，不同进程间存在着不同的相互制约关系。为了协调进程之间的相互制约关系，达到资源共享和进程协作，避免进程之间的冲突，引入了进程同步的概念。

<!-- more -->

# 基本概念

## 临界区
- 涉及到临界资源的代码段
	1. 临界区是代码片段
	2.  进程内代码
	3. 进程有一个或多个临界区
	4. 设置方法由程序员决定
- 
## 临界资源

-  进入区。为了进入临界区使用临界资源，在进入去要检查可否进入临界区。

- 临界区。进程中访问临界资源的那段代码。

- 退出区。将正在访问临界区的标志清除。实现有空让进准则

- 剩余区。代码中的其余部分。
# 信号量 Semaphore

在系统中，给予每一个进程一个信号量，代表每个进程目前的状态，未得到控制权的进程会在特定地方被强迫停下来，等待可以继续进行的信号到来。
## 概念
一个整型信号量
当线程完成一次对该semaphore对象的等待（wait）时，该计数值减一；当线程完成一次对semaphore对象的释放（release）时，计数值加一。当计数值为0，则线程等待该semaphore对象不再能成功直至该semaphore对象变成signaled状态。semaphore对象的计数值大于0，为signaled状态，可以获得信号量；计数值等于0，为nonsignaled状态，无法获得信号量。
计数信号量具备两种操作动作，称为V（`signal()`）与P（`wait()`）。V操作会增加信号标S的数值，P操作会减少它。

```C++
wait(S){ 
	while(S<=0); 
		S--; 
}
signal(S){ 
	S++; 
}
```

## 记录型信号量
解决'盲等'问题 增加了一个进程链表list
记录型信号量可以描述为一下结构体
```C++
Typedef struct{

Int value；

Struct process * list；

}semaphore；
```

wait(S) 操作使系统中可供分配的该类资源数减少一个，表示进程请求一个单位的资源
signal(S) 操作使可分配的资源增加一个，表示进程释放一个单位的资源
```C++
wait(semaphore *S){
    S->value--;
    if(S->value < 0)
        block(S->list)；
}

signal(semaphore *S) {     
	S->value++;     
	if(S->value <= 0)         
	wakeup(S->list)； 
}
```


# 三个经典问题

## 单缓存生产者-消费者问题
# xx3x

<hr />
版权信息